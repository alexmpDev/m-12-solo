{% extends 'layout.html' %}
{% block content %}

<div class="flex items-center justify-center h-screen">
    <div class="bg-white p-8 rounded-lg shadow-md w-full max-w-md">
        <h3 class="text-2xl font-bold mb-6 text-gray-800 text-center">Users</h3>
        <table class="table-auto w-full">
            <thead>
                <tr class="bg-gray-100">
                    <th class="px-4 py-2 text-pink-600">ID</th>
                    <th class="px-4 py-2 text-pink-600">NOM</th>
                    <th class="px-4 py-2 text-pink-600">ROL</th>
                </tr>
            </thead>
            <tbody>
                {% for user in users %}
                <tr class="border-b">
                    <td class="px-4 py-2 text-purple-600" >{{ user.id }}</td>
                    <td class="px-4 py-2 text-purple-600">{{ user.email }}</td>
                    <td class="px-4 py-2 text-purple-600">{{ user.role }}</td>
                    <td class="px-4 py-2 text-purple-600">
                        {% if user.is_blocked %}
                        <form action="{{ url_for('admin_bp.unblock_user', user_id=user.id) }}" method="post">
                            <button type="submit" class="btn btn-success">Desbloquejar</button>
                        </form>
                    {% else %}
                        <a href="{{ url_for('admin_bp.block_user', user_id=user.id) }}" class="btn btn-warning">Bloquear</a>
                    {% endif %}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}